# Generated by devtools/yamaker.

LIBRARY()

LICENSE(
    BSD-3-Clause AND
    BSD-3-Clause OR
    GPL-2.0-only
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

PEERDIR(
    contrib/libs/dpdk/lib/librte_kvargs
    contrib/libs/dpdk/lib/librte_telemetry
    contrib/libs/numa
)

ADDINCL(
    GLOBAL contrib/libs/dpdk/config
    GLOBAL contrib/libs/dpdk/lib/librte_eal
    GLOBAL contrib/libs/dpdk/lib/librte_eal/common
    GLOBAL contrib/libs/dpdk/lib/librte_eal/include
    GLOBAL contrib/libs/dpdk/lib/librte_eal/linux/include
    contrib/libs/dpdk/lib/librte_kvargs
    contrib/libs/dpdk/lib/librte_telemetry
    contrib/libs/numa
)

NO_COMPILER_WARNINGS()

NO_RUNTIME()

CFLAGS(
    -DABI_VERSION=\"21.0\"
    -DALLOW_EXPERIMENTAL_API
    -DALLOW_INTERNAL_API
)

SRCS(
    GLOBAL common/eal_common_log.c
    GLOBAL common/eal_common_timer.c
    GLOBAL common/eal_common_trace_points.c
    GLOBAL common/rte_random.c
    common/eal_common_bus.c
    common/eal_common_class.c
    common/eal_common_config.c
    common/eal_common_cpuflags.c
    common/eal_common_debug.c
    common/eal_common_dev.c
    common/eal_common_devargs.c
    common/eal_common_dynmem.c
    common/eal_common_errno.c
    common/eal_common_fbarray.c
    common/eal_common_hexdump.c
    common/eal_common_hypervisor.c
    common/eal_common_launch.c
    common/eal_common_lcore.c
    common/eal_common_mcfg.c
    common/eal_common_memalloc.c
    common/eal_common_memory.c
    common/eal_common_memzone.c
    common/eal_common_options.c
    common/eal_common_proc.c
    common/eal_common_string_fns.c
    common/eal_common_tailqs.c
    common/eal_common_thread.c
    common/eal_common_trace.c
    common/eal_common_trace_ctf.c
    common/eal_common_trace_utils.c
    common/eal_common_uuid.c
    common/hotplug_mp.c
    common/malloc_elem.c
    common/malloc_heap.c
    common/malloc_mp.c
    common/rte_keepalive.c
    common/rte_malloc.c
    common/rte_reciprocal.c
    common/rte_service.c
    linux/eal.c
    linux/eal_alarm.c
    linux/eal_cpuflags.c
    linux/eal_debug.c
    linux/eal_dev.c
    linux/eal_hugepage_info.c
    linux/eal_interrupts.c
    linux/eal_lcore.c
    linux/eal_log.c
    linux/eal_memalloc.c
    linux/eal_memory.c
    linux/eal_thread.c
    linux/eal_timer.c
    linux/eal_vfio.c
    linux/eal_vfio_mp_sync.c
    unix/eal_file.c
    unix/eal_unix_memory.c
    unix/eal_unix_timer.c
)

IF (ARCH_ARM64)
    ADDINCL(
        GLOBAL contrib/libs/dpdk/lib/librte_eal/arm/include
    )
    SRCS(
        arm/rte_cpuflags.c
        arm/rte_cycles.c
        arm/rte_hypervisor.c
    )
ELSEIF (ARCH_X86_64)
    ADDINCL(
        GLOBAL contrib/libs/dpdk/lib/librte_eal/x86/include
    )
    SRCS(
        GLOBAL x86/rte_spinlock.c
        x86/rte_cpuflags.c
        x86/rte_cycles.c
        x86/rte_hypervisor.c
    )
ENDIF()

END()
